!function(e){function t(t){for(var n,o,d=t[0],c=t[1],l=t[2],u=0,v=[];u<d.length;u++)o=d[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&v.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(s&&s(t);v.length;)v.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,d=1;d<a.length;d++){var c=a[d];0!==r[c]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},r={0:0},i=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var d=window.webpackJsonp=window.webpackJsonp||[],c=d.push.bind(d);d.push=t,d=d.slice();for(var l=0;l<d.length;l++)t(d[l]);var s=c;i.push([44,1]),a()}([,,,,function(e,t,a){var n=a(1),r=a(18);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},function(e,t){e.exports='<div class="update-button"> <button id="update-geolocation-button" class="update-button__button"> <span class="update-button__button-text">Обновить геолокацию</span> <img class="update-button__button-icon" src="/assets/img/update-arrows.svg" alt="update icon"/> </button> </div> '},function(e,t){e.exports='<div id="weather-main-container" class="weather-main"> <div class="weather-main__city"><h2 id="weather-main-city"></h2></div> <div id="weather-main-icon" class="weather-main__icon"> </div> <div id="weather-main-degree" class="weather-main__degree"></div> </div> '},function(e,t){e.exports='<div id="header-menu-container" class="header-menu"> <div class="header-menu__top" id="header-menu-top"> <div class="header-menu__top-title"><h1>Погода здесь</h1></div> </div> <div id="header-menu-weather" class="header-menu-weather"> <div class="header-menu-weather__main" id="header-menu-weather-main"></div> <div class="header-menu-weather__detailed" id="header-menu-weather-detailed"></div> </div> </div> '},function(e,t){e.exports='<div class="add-city"> <div class="add-city__header"> <h3>Избранное</h3> </div> <div id="add-city-input-container" class="add-city__input"> <input placeholder="Добавить новый город" type="text"> </div> </div> '},function(e,t){e.exports='<div class="favorite-cities"> <div id="favorite-cities-add" class="favorite-cities__add"></div> <div id="favorite-cities-cities" class="favorite-cities__cities"></div> </div> '},function(e,t){e.exports='<div class="app-grid"> <header class="app-header" id="app-header"></header> <div class="app-body" id="app-body"></div> </div> '},,,function(e,t){e.exports='<div> <button class="round-button"></button> </div> '},function(e,t){e.exports='<div id="city-card" class="city-card"> <div id="city-card-header" class="city-card__header"></div> <div id="city-card-data" class="city-card__data"></div> </div> '},function(e,t){e.exports='<div id="city-card-header" class="city-card-header"> <div id="city-card-header-city" class="city-card-header__header"></div> <div id="city-card-header-degree" class="city-card-header__degree"></div> <div id="city-card-header-icon" class="city-card-header__icon"></div> <div id="city-card-header-close" class="city-card-header__close"></div> </div> '},,,function(e,t,a){},function(e,t,a){var n=a(1),r=a(20);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},function(e,t,a){},function(e,t,a){var n=a(1),r=a(22);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},function(e,t,a){},function(e,t,a){var n=a(1),r=a(24);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},function(e,t,a){},,,,,,function(e,t,a){var n=a(1),r=a(31);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},function(e,t,a){},function(e,t,a){var n=a(1),r=a(33);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},function(e,t,a){},function(e,t,a){var n=a(1),r=a(35);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},function(e,t,a){},function(e,t,a){var n=a(1),r=a(37);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},function(e,t,a){},function(e,t,a){var n=a(1),r=a(39);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},function(e,t,a){},function(e,t,a){var n=a(1),r=a(41);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},function(e,t,a){},function(e,t,a){var n=a(1),r=a(43);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n,r=a(3),i=a.n(r),o=a(2),d=a.n(o),c=a(11),l=a.n(c),s=(a(4),a(19),a(5)),u=a.n(s),v=(a(21),a(0)),p=a.n(v),h={Update:"Update",Clouds:"Clouds",Drizzle:"Drizzle",Snow:"Snow",Thunderstorm:"Thunderstorm",Rain:"Rain",Clear:"Clear",Tornado:"Tornado",Mist:"Mist",Smoke:"Smoke",Haze:"Haze",Dust:"Dust",Fog:"Fog",Sand:"Sand",Ash:"Ash",Squall:"Squall"},m="./assets/img/017-foog.svg",f=(n={},p()(n,h.Update,"./assets/img/update-arrows.svg"),p()(n,h.Clouds,"./assets/img/001-cloud.svg"),p()(n,h.Drizzle,"./assets/img/003-rainy.svg"),p()(n,h.Thunderstorm,"./assets/img/036-storm-4.svg"),p()(n,h.Snow,"./assets/img/012-snowy-1.svg"),p()(n,h.Rain,"./assets/img/004-rainy-1.svg"),p()(n,h.Clear,"./assets/img/039-sun.svg"),p()(n,h.Tornado,"./assets/img/046-tornado.svg"),p()(n,h.Mist,m),p()(n,h.Smoke,m),p()(n,h.Haze,m),p()(n,h.Dust,m),p()(n,h.Fog,m),p()(n,h.Sand,m),p()(n,h.Ash,m),p()(n,h.Squall,m),n);function g(e,t){var a=f[t];if(!a)return null;var n=document.createElement("div");n.id="weather-icon-container-".concat(e),n.classList.add("weather-icon__container");var r=document.createElement("img");return r.id="weather-icon-".concat(e),r.classList.add("weather-icon__icon"),r.src=a,n.appendChild(r),n}var y=a(6),w=a.n(y);a(23);function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=document.createElement("ul");return 0!==t.length&&e?(a.id="".concat("weather-detailed","-").concat(e),a.classList.add("weather-detailed"),t.forEach((function(e){var t=e.title,n=e.value,r=document.createElement("li"),i=document.createElement("span"),o=document.createElement("span");r.classList.add("weather-detailed__item"),i.classList.add("weather-detailed__title"),i.innerText=t,o.innerText=n,r.appendChild(i),r.appendChild(o),a.appendChild(r)})),a):null}var b=navigator.geolocation;function x(){return new Promise((function(e,t){b.getCurrentPosition((function(t){var a=t.coords,n=a.latitude,r=a.longitude;e({latitude:n,longitude:r})}),(function(e){console.error(e),t(e)}),{enableHighAccuracy:!0})}))}function M(e,t){return fetch("".concat("https://api.openweathermap.org/data/2.5/weather?units=metric&lang=ru","&lat=").concat(e,"&lon=").concat(t,"&appid=").concat("b332962152d1ba0bb3f785794f1dc02d")).then((function(e){return e.json()}))}function T(){return E.apply(this,arguments)}function E(){return(E=i()(d.a.mark((function e(){var t,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:return t=e.sent,a=t.latitude,n=t.longitude,e.next=7,M(a,n);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var B=a(12),I=a.n(B);function S(e){var t=e.coord,a=e.name,n=e.main,r=n.temp,i=n.humidity,o=n.pressure,d=e.clouds.all,c=e.wind,l=e.weather,s="[".concat(t.lat.toFixed(2),", ").concat(t.lon.toFixed(2),"]"),u="".concat(d,"%"),v="".concat(c.speed," m/s, ").concat(c.deg),p="".concat(o," hpa"),h="".concat(i,"%"),m=I()(l,1)[0].main;return{weatherDetails:[{title:"Ветер",value:v},{title:"Облачность",value:u},{title:"Давление",value:p},{title:"Влажность",value:h},{title:"Координаты",value:s}],city:a,degree:Math.floor(r),weatherType:m}}window.localStorage.getItem("app-cities-data");function C(){H({weatherType:h.Update,city:"Подождите, данные загружаются"})}function D(){return k.apply(this,arguments)}function k(){return(k=i()(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("init"),e.prev=1,C(),e.next=5,T();case 5:t=e.sent,a=S(t),setTimeout((function(){return H(a)}),500),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}var z=a(7),O=a.n(z);function H(e){var t=e.weatherDetails,a=l()(e,["weatherDetails"]),n=document.getElementById("update-geolocation-button");n||(document.getElementById("header-menu-top").insertAdjacentHTML("beforeend",u.a),(n=document.getElementById("update-geolocation-button")).onclick=D),document.getElementById("header-menu-weather-main").innerHTML=w.a,function(e){var t=e.weatherType,a=e.degree,n=e.city,r=void 0===n?"":n,i=document.getElementById("weather-main-container"),o=document.getElementById("weather-main-icon"),d=document.getElementById("weather-main-degree"),c=document.getElementById("weather-main-city");t===h.Update&&i.classList.add("updating");var l=g("header-menu",t);l&&o.appendChild(l),d.innerText=a&&"".concat(a,"°")||"",c.innerText=r}(a);var r=_("header-menu",t);r&&document.getElementById("header-menu-weather-detailed").replaceChildren(r)}a(30);var L=[{city:"Moscow",degree:5,weatherType:h.Drizzle,weatherDetails:[{title:"Ветер",value:"Moderate breeze, 6.0 m/s, North-northwest"},{title:"Облачность",value:"Broken clouds"},{title:"Давление",value:"1013 hpa"},{title:"Влажность",value:"52%"},{title:"Координаты",value:"[59.88, 30.42]"}]},{city:"Helsinki",degree:3,weatherType:h.Storm,weatherDetails:[{title:"Ветер",value:"Moderate breeze, 6.0 m/s, North-northwest"},{title:"Облачность",value:"Broken clouds"},{title:"Давление",value:"1013 hpa"},{title:"Влажность",value:"52%"},{title:"Координаты",value:"[59.88, 30.42]"}]},{city:"Moscow",degree:5,weatherType:h.Clouds,weatherDetails:[{title:"Ветер",value:"Moderate breeze, 6.0 m/s, North-northwest"},{title:"Облачность",value:"Broken clouds"},{title:"Давление",value:"1013 hpa"},{title:"Влажность",value:"52%"},{title:"Координаты",value:"[59.88, 30.42]"}]},{city:"Helsinki",degree:3,weatherType:h.Storm,weatherDetails:[{title:"Ветер",value:"Moderate breeze, 6.0 m/s, North-northwest"},{title:"Облачность",value:"Broken clouds"},{title:"Давление",value:"1013 hpa"},{title:"Влажность",value:"52%"},{title:"Координаты",value:"[59.88, 30.42]"}]},{city:"Moscow",degree:5,weatherType:h.Storm,weatherDetails:[{title:"Ветер",value:"Moderate breeze, 6.0 m/s, North-northwest"},{title:"Облачность",value:"Broken clouds"},{title:"Давление",value:"1013 hpa"},{title:"Влажность",value:"52%"},{title:"Координаты",value:"[59.88, 30.42]"}]},{city:"Helsinki",degree:3,weatherType:h.Clouds,weatherDetails:[{title:"Ветер",value:"Moderate breeze, 6.0 m/s, North-northwest"},{title:"Облачность",value:"Broken clouds"},{title:"Давление",value:"1013 hpa"},{title:"Влажность",value:"52%"},{title:"Координаты",value:"[59.88, 30.42]"}]}],P=(a(32),a(13)),j=a.n(P);a(34);function F(e){var t=(new DOMParser).parseFromString(j.a,"text/html"),a=null==t?void 0:t.getElementsByTagName("button")[0];return a.innerText=e,a}var N=a(8),A=a.n(N);a(36);var U=a(14),q=a.n(U),R=(a(38),a(15)),J=a.n(R),G="".concat("city-card-header","-city"),K="".concat("city-card-header","-degree"),Q="".concat("city-card-header","-icon"),V="".concat("city-card-header","-close");function W(e,t){var a=t.weatherDetails,n=t.weatherType,r=t.city,i=t.degree;if(!e||!a)return null;var o=(new DOMParser).parseFromString(q.a,"text/html"),d=o.getElementById("city-card"),c=o.getElementById("city-card-data");d.id+="-".concat(e),c.id="-".concat(e);var l=_(e,a);c.appendChild(l);var s=o.getElementById("city-card-header"),u=function(e,t){var a=t.weatherType,n=t.city,r=t.degree,i=(new DOMParser).parseFromString(J.a,"text/html"),o=i.getElementById("city-card-header"),d=i.getElementById(G),c=i.getElementById(K),l=i.getElementById(Q),s=i.getElementById(V),u=g(e,a);u&&l.appendChild(u);var v=F("✕");return s.appendChild(v),d.innerText=n,c.innerText="".concat(r,"°C"),o.id="".concat("city-card-header","-").concat(e),d.id="".concat(G,"-").concat(e),c.id="".concat(K,"-").concat(e),l.id="".concat(Q,"-").concat(e),s.id="".concat(V,"-").concat(e),o}(e,{weatherType:n,city:r,degree:i});return s.appendChild(u),d}var X=a(9),Y=a.n(X);function Z(){var e,t;document.getElementById("favorite-cities-add").innerHTML=A.a,e=document.getElementById("add-city-input-container"),t=F("+"),e.appendChild(t);var a=document.getElementById("favorite-cities-cities");L.map((function(e,t){return W(t+1,e)})).forEach((function(e){a.appendChild(e)}))}a(40);var $=a(10),ee=a.n($);window.onload=i()(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementById("root").innerHTML=ee.a,document.getElementById("app-header").innerHTML=O.a,document.getElementById("app-body").innerHTML=Y.a,e.next=5,D();case 5:Z();case 6:case"end":return e.stop()}}),e)})));a(42)}]);
